<div class="p-6 bg-gray-50 min-h-screen">
  <!-- En-tête -->
  <div class="flex justify-between items-center mb-8">
    <div>
      <h2 class="text-2xl font-bold text-gray-800 flex items-center">
        <mat-icon class="mr-3 text-blue-600">business</mat-icon>
        Gestion des Départements
      </h2>
      <p class="text-gray-600 mt-1">Gérez les départements de votre organisation</p>
    </div>
    
    <button mat-raised-button
      (click)="ouvrirAjouterDepartement()"
      class="bg-blue-900 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 shadow-md hover:shadow-lg">
      <mat-icon>business</mat-icon>
      <span>Ajouter un Département</span>
    </button>
  </div>

  <!-- Grille de cartes -->
  <div *ngIf="!loading && departements.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div *ngFor="let dept of departements" class="bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow">
      <!-- En-tête de la carte -->
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-start justify-between">
          <div class="flex items-center">
            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
              <mat-icon class="text-blue-600">business</mat-icon>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-900">{{dept.nom}}</h3>
              <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1">
                <mat-icon class="mr-1 text-xs">check_circle</mat-icon>
                Actif
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Corps de la carte -->
      <div class="p-6">
        <p class="text-gray-600 text-sm mb-4 line-clamp-3">
          {{dept.description || 'Aucune description disponible pour ce département.'}}
        </p>
        
        <!-- Métriques -->
        <div class="grid grid-cols-2 gap-4 text-center">
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="text-2xl font-bold text-blue-600">12</div>
            <div class="text-xs text-gray-500">Employés</div>
          </div>
          <!-- <div class="bg-gray-50 rounded-lg p-3">
            <div class="text-2xl font-bold text-green-600">3</div>
            <div class="text-xs text-gray-500">Projets</div>
          </div> -->
        </div>
      </div>

      <!-- Actions -->
      <div class="px-6 py-4 bg-gray-50 rounded-b-xl">
        <div class="flex justify-between items-center">
          <button 
            mat-button 
            color="primary"
            class="flex items-center space-x-1"
            (click)="voirDetails(dept)">
            <mat-icon class="text-sm">visibility</mat-icon>
            <span>Détails</span>
          </button>
          
          <div class="flex space-x-1">
            <button 
              mat-icon-button 
              color="primary"
              class="bg-blue-50 hover:bg-blue-100"
              (click)="modifierDepartement(dept)">
              <mat-icon>edit</mat-icon>
            </button>
            <button 
              mat-icon-button 
              color="warn"
              class="bg-red-50 hover:bg-red-100"
              (click)="supprimerDepartement(dept.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- État vide -->
  <div *ngIf="!loading && departements.length === 0" class="text-center py-12">
    <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
      <mat-icon class="text-gray-400 text-4xl">business</mat-icon>
    </div>
    <h3 class="text-xl font-semibold text-gray-700 mb-2">Aucun département</h3>
    <p class="text-gray-500 mb-6 max-w-md mx-auto">
      Commencez par créer votre premier département pour organiser votre structure.
    </p>
    <button 
      (click)="ouvrirAjouterDepartement()"
      class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto">
      <mat-icon>business</mat-icon>
      <span>Créer le premier département</span>
    </button>
  </div>

  <!-- Loading state -->
  <div *ngIf="loading" class="text-center py-12">
    <div class="flex justify-center items-center space-x-3">
      <mat-spinner diameter="40"></mat-spinner>
      <span class="text-gray-600">Chargement des départements...</span>
    </div>
  </div>
</div>















<!-- <div class="p-6 ">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-xl font-bold">Gestion des Départements</h2>
        <button (click)="ouvrirAjouterDepartement()"
      class="bg-blue-200 text-white px-2 py-2 rounded-lg hover:bg-blue-900 transition-colors flex justify-end items-center space-x-2">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
      <span>Ajouter un Departement</span>
    </button>
      </div>

      <table mat-table [dataSource]="departements">
        <ng-container matColumnDef="nom"><th mat-header-cell *matHeaderCellDef>Nom</th><td mat-cell *matCellDef="let dept">{{dept.nom}}</td></ng-container>
        <ng-container matColumnDef="description"><th mat-header-cell *matHeaderCellDef>Description</th><td mat-cell *matCellDef="let dept">{{dept.description}}</td></ng-container>
        <ng-container matColumnDef="actions"><th mat-header-cell *matHeaderCellDef>Actions</th><td mat-cell *matCellDef="let dept">
          <button mat-icon-button color="warn" (click)="supprimerDepartement(dept.id)"><mat-icon>delete</mat-icon></button>
        </td></ng-container>
        <tr mat-header-row *matHeaderRowDef="['nom', 'description', 'actions']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['nom', 'description', 'actions'];"></tr>
      </table>
    </div> -->



  <!-- <div class="category-management">
  !-- En-tête --
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary">
      <i class="bi bi-tags me-2"></i>Gestion des Catégories
    </h2>
    <button class="btn btn-primary" (click)="ouvrirAjouterDepartement()">
      <i class="bi bi-plus-circle me-2"></i>Nouveau Departement
    </button>
  </div>

  !-- Liste des catégories --
  <div class="card">
    <div class="card-header bg-light">
      <h5 class="card-title mb-0">
        <i class="bi bi-list me-2"></i>
        Liste des Catégories ({{ departements.length }})
      </h5>
    </div>
    <div class="card-body">
      !-- Loading --
      <div *ngIf="loading" class="text-center py-5">
        <div class="spinner-border text-primary" >
          <span class="visually-hidden">Chargement...</span>
        </div>
        <p class="mt-3 text-muted">Chargement des catégories...</p>
      </div>

      !-- Grille de catégories --
      <div *ngIf="!loading" class="row">
        <div *ngFor="let departement of departements" class="col-md-6 col-lg-4 mb-4">
          <div class="card h-100 category-card">
            <div class="card-body text-center">
              <h5 class="card-title">{{ departement.nom }}</h5>
              <p class="card-text text-muted small" *ngIf="departement.description">
                {{ departement.description | slice:0:100 }}{{ departement.description.length > 100 ? '...' : '' }}
              </p>
            </div>
            <div class="card-footer bg-transparent">
              <div class="btn-group w-100">
                <button class="btn btn-outline-primary btn-sm" (click)="onEdit(departement)">
                  <i class="bi bi-pencil"></i> Modifier
                </button>
                <button class="btn btn-outline-danger btn-sm" (click)="onDelete(departement)">
                  <i class="bi bi-trash"></i> Supprimer
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      !-- Aucune catégorie --
      <div *ngIf="!loading && departements.length === 0" class="text-center py-5">
        <i class="bi bi-tag display-1 text-muted"></i>
        <h5 class="text-muted mt-3">Aucun departement</h5>
        <p class="text-muted">Commencez par créer votre première catégorie</p>
        <button class="btn btn-primary" (click)="onCreate()">
          <i class="bi bi-plus-circle me-2"></i>Créer une catégorie
        </button>
      </div>
    </div>
  </div>
</div> -->